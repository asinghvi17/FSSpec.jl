<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · FSSpec.jl</title><meta name="title" content="Home · FSSpec.jl"/><meta property="og:title" content="Home · FSSpec.jl"/><meta property="twitter:title" content="Home · FSSpec.jl"/><meta name="description" content="Documentation for FSSpec.jl."/><meta property="og:description" content="Documentation for FSSpec.jl."/><meta property="twitter:description" content="Documentation for FSSpec.jl."/><meta property="og:url" content="https://asinghvi17.github.io/FSSpec.jl/"/><meta property="twitter:url" content="https://asinghvi17.github.io/FSSpec.jl/"/><link rel="canonical" href="https://asinghvi17.github.io/FSSpec.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>FSSpec.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#What-is-this-thing?"><span>What is this thing?</span></a></li><li><a class="tocitem" href="#What&#39;s-this-Kerchunk-thing?"><span>What&#39;s this Kerchunk thing?</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/asinghvi17/FSSpec.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/asinghvi17/FSSpec.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="FSSpec"><a class="docs-heading-anchor" href="#FSSpec">FSSpec</a><a id="FSSpec-1"></a><a class="docs-heading-anchor-permalink" href="#FSSpec" title="Permalink"></a></h1><h2 id="What-is-this-thing?"><a class="docs-heading-anchor" href="#What-is-this-thing?">What is this thing?</a><a id="What-is-this-thing?-1"></a><a class="docs-heading-anchor-permalink" href="#What-is-this-thing?" title="Permalink"></a></h2><p>It&#39;s a package that wraps Python&#39;s <a href="https://github.com/filesystem_spec/fsspec">fsspec</a> library.  Specifically meant for integration with Zarr.jl and the DimensionalData ecosystem, but it can be used for other things too.</p><p><a href="https://github.com/filesystem_spec/fsspec"><code>fsspec</code></a> is a Python library that provides a unified interface for working with various storage backends, from local directories to HTTP, S3, Tar archives, and even virtual filesystems defined by dictionaries.  It&#39;s used in <code>xarray</code> and similar packages to simplify the loading story for data.</p><p>Currently, FSSpec.jl only exports a Zarr storage backend called <code>FSStore</code>.  This wraps an fsspec filesystem, allowing you to use it as a Zarr storage backend.  The fsspec file system can be absolutely anything!</p><p>The quick start example shows how to load a Kerchunk catalog into a Zarr dataset, then wrap it in YAXArrays.jl to get a DimensionalArray, which works with the DimensionalData ecosystem.</p><p>Documentation for <a href="https://github.com/asinghvi17/FSSpec.jl">FSSpec</a>.</p><ul><li><a href="#FSSpec.FSStore"><code>FSSpec.FSStore</code></a></li><li><a href="#FSSpec._recursive_pyconvert-Tuple{AbstractDict}"><code>FSSpec._recursive_pyconvert</code></a></li><li><a href="#FSSpec.readbytes-Tuple{Any, Integer, Integer}"><code>FSSpec.readbytes</code></a></li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FSSpec.FSStore" href="#FSSpec.FSStore"><code>FSSpec.FSStore</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FSStore(url; storage_options...)</code></pre><p>Load data that can be accessed through any filesystem supported by the <a href="https://github.com/fsspec/filesystem_spec"><code>fsspec</code></a> Python package.</p><p><code>url</code> can be any path in the form <code>protocol://path/to/file</code>.</p><p><strong>Kerchunk</strong></p><p>To open a Kerchunk catalog, call <code>FSStore(&quot;reference://&quot;; fo = &quot;path/to/catalog.json&quot;)</code>.   <code>fo</code> may be any path that <code>fsspec</code> can read, or a Dict following the Kerchunk JSON structure.   If it is a Dict, it may not contain any values that cannot be translated directly to Python types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/asinghvi17/FSSpec.jl/blob/3cd7e65286d97a31d1ad158b270cf059af6a8d94/src/fsstore.jl#L15-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FSSpec._recursive_pyconvert-Tuple{AbstractDict}" href="#FSSpec._recursive_pyconvert-Tuple{AbstractDict}"><code>FSSpec._recursive_pyconvert</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_recursive_pyconvert(source::Dict)</code></pre><p>Convert a Julia dict to a Python dict, recursively.  Returns a <code>PythonCall.Py</code> object wrapping the Python dict.</p><p>This is a pure Python dict and not a Julia dict wrapped in Python, so it plays better with Python functions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/asinghvi17/FSSpec.jl/blob/3cd7e65286d97a31d1ad158b270cf059af6a8d94/src/python_utils.jl#L42-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FSSpec.readbytes-Tuple{Any, Integer, Integer}" href="#FSSpec.readbytes-Tuple{Any, Integer, Integer}"><code>FSSpec.readbytes</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">readbytes(path, start::Integer, stop::Integer)::Vector{UInt8}</code></pre><p>Read bytes from a file at a given range.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/asinghvi17/FSSpec.jl/blob/3cd7e65286d97a31d1ad158b270cf059af6a8d94/src/readbytes.jl#L1-L5">source</a></section></article><h2 id="What&#39;s-this-Kerchunk-thing?"><a class="docs-heading-anchor" href="#What&#39;s-this-Kerchunk-thing?">What&#39;s this Kerchunk thing?</a><a id="What&#39;s-this-Kerchunk-thing?-1"></a><a class="docs-heading-anchor-permalink" href="#What&#39;s-this-Kerchunk-thing?" title="Permalink"></a></h2><p><a href="https://github.com/fsspec/kerchunk"><code>kerchunk</code></a> is a Python library that allows you to take a collection of files and turn them into a Zarr dataset.  In the days of yore, when dinosaurs roamed the (flat) Earth and we only had black and white TV, file size limits (and RAM limits) made it such that one had to spread out data across multiple files.  So, engineers turned to &quot;descriptive file paths&quot; where one could encode metadata in the file path or file name.  A nice example is having a folder for each timestep of a spatial simulation.</p><p>However, each dataset basically had its own way of doing this.  So, if you wanted to load a dataset, you had to load it in the way the original engineer envisioned.  </p><p>This is where <code>kerchunk</code> comes in.  It will look at all the files and generate a &quot;catalog&quot; that describes a translation from the original file paths to a Zarr dataset!  This means that you can access the data as a single array, but still load by chunks (but chunks here are bitranges in files).  Kerchunk is super useful when you have an old dataset or pipeline which spits out tens of millions of files, that end users don&#39;t want to have to memorize the file structure of.</p><p>Kerchunk &quot;catalogs&quot; are just JSON, but they come in a few varieties since the standard is not fully defined.  The most basic catalog is one which maps some files to a single Zarr dataset, and this is the only version which is loadable by <code>fsspec</code>.  Some kerchunk catalogs are distributed as multiple catalog objects in a single JSON, indexed by some key - this is something to check if you get a random error, like <code>KeyError: &quot;.zmetadata&quot;</code>.  In that case you should pass the value from a single key to Kerchunk.</p><p>Kerchunk catalogs can also be directories of Parquet files for extremely large data, which fsspec can handle easily.</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Wednesday 4 September 2024 22:02">Wednesday 4 September 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
